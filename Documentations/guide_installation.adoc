= Guide de Démarrage pour le Projet Flutter
:toc: macro
:toclevels: 2

Bienvenue dans le projet Flutter !  
Ce guide couvre l’installation locale, ainsi que l’utilisation des builds générés par la CI (APK Android + bundle Web).

toc::[]

== Prérequis (pour un lancement en local)
* Git (https://git-scm.com/downloads[Télécharger])
* Flutter SDK (https://docs.flutter.dev/get-started/install[Guide officiel])
* Android Studio (https://developer.android.com/studio?hl=fr[SDK + Émulateur])
* Visual Studio Code (https://code.visualstudio.com/[Télécharger]) + extensions *Flutter* et *Dart*

== Démarrer en local (développeur)

=== 1. Cloner le dépôt
[source,bash]
----
git clone https://github.com/Diego-PB/ParaCheck.git
cd ParaCheck/app/paracheck
----

=== 2. Vérifier l’installation
[source,bash]
----
flutter doctor
----

=== 3. Lancer un émulateur Android
Depuis Android Studio → *Tools > Device Manager* → démarrez un AVD.  
[source,bash]
----
flutter devices
----

=== 4. Démarrer l’application
[source,bash]
----
flutter run
----

=== 5. Arrêter
Dans le terminal de `flutter run` : `q`.

== Utiliser les builds de la CI (sans rien installer)

Les artefacts sont publiés dans **Releases** :
* **Android** : `app-release-apk.zip` → contient l’APK.
* **Web** : `web-build.zip` → contient `index.html`, `main.dart.js`, `assets/…`.

=== Android (APK)
. Téléchargez `app-release-apk.zip` depuis la page *Releases*.
. Dézippez et copiez l’APK sur le téléphone.
. Activez “Sources inconnues” si nécessaire.
. Installez l’APK.

=== Web (bundle)
. Téléchargez `web-build.zip` depuis *Releases* et dézippez.
. Ouvrez un terminal dans le dossier dézippé puis servez en HTTP :
+
[source,bash]
----
# Windows
python -m http.server 8000

# macOS / Linux
python3 -m http.server 8000
----
. Ouvrez http://localhost:8000
[NOTE]
====
C’est normal si `index.html` est “vide” : Flutter charge l’app via `main.dart.js`.
====

== Démo en ligne (GitHub Pages)
L’app Web est déployée automatiquement par la CI sur **GitHub Pages** :  
`https://diego-pb.github.io/ParaCheck/`

== CI/CD (GitHub Actions)
*Workflow* : `.github/workflows/flutter-ci.yml`  
*Déclencheurs* : `push` sur `main`, Pull Requests, exécution manuelle.

*Jobs (résumé)* :
- **test** : `flutter test`
- **android** : `flutter build apk --release` → artefact **app-release-apk.zip**
- **web** : `flutter build web --release --base-href /ParaCheck/` → artefact **web-build.zip**
- **deploy_pages** : publie le bundle Web sur GitHub Pages

== Dépannage rapide
* `flutter : command not found` → ajouter Flutter au `PATH`.
* Aucun device → lancer un AVD ou brancher un smartphone (mode développeur).
* Web en local *page blanche* → ne pas ouvrir le fichier en `file://`, servir via HTTP (voir ci-dessus).
* `index.html` “vide” → normal : l’UI est rendue par `main.dart.js`.

== 🎉 Merci !
Merci d’utiliser ParaCheck 🚀
